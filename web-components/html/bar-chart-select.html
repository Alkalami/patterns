<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Chart</title>

  <!--[if !IE]><!-->
  <link rel="stylesheet" type="text/css" href="/css/public.css" />
  <!--<![endif]-->
  <!--[if lt IE 10]>
    <link media="all" rel="stylesheet" href="/css/ie.css">
  <![endif]-->

</head>

<body>
  <cob-chart>
    <script type="application/json" slot="config">
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
            "boston": {
              "minWidth": 500,
              "chartID": "barChart1"
            },
            "title": {
              "text": "FY19 Spending by Cabinet",
              "anchor": "start"
            },
            "description": "A simple bar chart with embedded data.",
            "width": 500,
            "height": 500,
            "autosize": "fit",
            "selection": {
              "select": {
                "type": "single",
                "fields": ["cabinet"],
                "bind": {"input": "select", 
                       "element": "#select", 
                       "options": ["Kayla"],
                       "name": "Select a cabinet: "}
              }
            },
            "data": {
                "name": "data",
                "url": "https://gist.githubusercontent.com/paylakatel/03df34fe8d74e22c5ed3f1f178305423/raw/fe4a8ffa72098646b87eb041607c4e92be68c452/testData.csv"
              },
            "transform": [
                {"filter": {"selection": "select"}}
              ],
            "mark": "bar",
            "encoding": {
              "color": { "value": "#45789C"},
              "y": {"field": "dept", "type": "nominal", 
                  "sort": {"op": "sum", "field": "budget", "order": "descending"},
                  "axis": {"title": "" }},
              "x": {"aggregate": "sum", "field": "budget", "type": "quantitative",
                "axis": {"title": "FY19 Budget", "grid": true}}
            },
            "config": {
              "numberFormat": "s",
              "title": {
                "font": "Montserrat",
                "fontSize": 20
              },
              "axis": {
                "labelFont": "Lora",
                "labelFontSize": 16,
                "labelLimit": 500,
                "titleFont": "Montserrat",
                "titleFontSize": 16,
                "titleFontWeight": "normal",
                "titlePadding": 15
              }
            }
          }
        </script>
  </cob-chart>

  <script src="/web-components/fleetcomponents.js"></script>
</body>

</html>