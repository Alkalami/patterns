"use strict";var Boston=function(){return{request:function(e){var t=new XMLHttpRequest;t.open(e.method,e.url,!0),t.onload=function(){t.status>=200&&t.status<400?e.success(t):e.error(t)},t.onerror=function(){e.error(t)},e.data?t.send(e.data):t.send()},child:function(e,t){return document.querySelectorAll("#"+e.id+" "+t)},childByEl:function(e,t){return e.getElementsByClassName(t)},disableButton:function(e,t){var n=Boston.childByEl(e,"btn");if(n.length>0)for(var o=0;o<n.length;o++)n[o].disabled=!0,n[o].innerHTML=t},enableButton:function(e,t){var n=Boston.childByEl(e,"btn");if(n.length>0)for(var o=0;o<n.length;o++)n[o].disabled=!1,n[o].innerHTML=t},emailRE:/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/,invalidateField:function(e,t){var n=document.createElement("div");n.className="t--subinfo t--err m-t100",n.innerHTML=t,e.parentElement.appendChild(n)},zipRE:/(^\d{5}$)|(^\d{5}-\d{4}$)/}}(),BostonContact=function(){function e(e){e.addEventListener("click",t)}function t(e){if(e.preventDefault(),document.getElementById("contactFormTemplate")){document.body.classList.add("no-s");var t=document.getElementById("contactFormTemplate"),a=document.createElement("div");a.id="contactFormModal",a.innerHTML=t.innerHTML,document.body.appendChild(a),e.target.title&&""!==e.target.title&&(document.getElementById("contactMessage").innerHTML=e.target.title),Boston.childByEl(a,"md-cb")[0].addEventListener("click",n),document.getElementById("contactForm").addEventListener("submit",o),i(e.target),l(e.target),c(e.target)}}function n(e){e.preventDefault(),document.body.classList.remove("no-s"),document.getElementById("contactFormModal").remove()}function o(e){e.preventDefault();var t=document.getElementById("contactForm"),n=r(t),o=new FormData(t);n&&(Boston.disableButton(t,"Loading..."),Boston.request({data:o,url:t.getAttribute("action"),method:"POST",success:function(e){200===e.status?t.parentElement.innerHTML="<p>Thank you for contacting us. We appreciate your interest in the City. If you donâ€™t hear from anyone within five business days, please contact BOS:311 at 3-1-1 or 617-635-4500.</p>":a(t)},error:function(){a(t)}}))}function a(e){Boston.enableButton(e,"Send Message")}function r(e){var t=Boston.childByEl(e,"bos-contact-email"),n=Boston.childByEl(e,"bos-contact-name"),o=Boston.childByEl(e,"bos-contact-subject"),a=Boston.childByEl(e,"bos-contact-message"),r=!0;return""!=t[0].value&&Boston.emailRE.test(t[0].value)||(Boston.invalidateField(t[0],"Please enter a valid email address"),r=!1),""==n[0].value&&(Boston.invalidateField(n[0],"Please enter your full name"),r=!1),""==o[0].value&&(Boston.invalidateField(o[0],"Please enter a subject"),r=!1),""==a[0].value&&(Boston.invalidateField(a[0],"Please enter a message"),r=!1),r}function i(e){document.getElementById("contactFormBrowser").value=navigator.userAgent}function c(e){document.getElementById("contactFormToAddress").value=e.getAttribute("href").replace("mailto:","")}function l(e){document.getElementById("contactFormURL").value=window.location.href}return{start:function(){if(document.getElementById("contactFormTemplate")){var t=document.querySelectorAll("a[href^=mailto]");if(t.length>0)for(var n=0;n<t.length;n++)e(t[n])}},close:n}}();BostonContact.start();var BostonNewsletter=function(){function e(e){e.addEventListener("submit",function(a){a.preventDefault(),o(e);var r=n(e),i=new FormData(e);r&&(Boston.disableButton(e,"Loading..."),Boston.request({data:i,url:e.getAttribute("action"),method:"POST",success:function(n){(n=JSON.parse(n.response)).subscriber?e.parentElement.innerHTML="<div class='t--info'>Great. You'll get your first email soon.</div>":t()},error:function(){Boston.enableButton(e,"Sign up"),t()}}))})}function t(){}function n(e){var t=Boston.childByEl(e,"bos-newsletter-email"),n=Boston.childByEl(e,"bos-newsletter-zip"),o=!0;if(""!=t[0].value&&Boston.emailRE.test(t[0].value)||((a=document.createElement("div")).className="t--subinfo t--err m-t100",a.innerHTML="Please enter a valid email address",t[0].parentElement.appendChild(a),o=!1),""!==n[0].value&&!Boston.zipRE.test(n[0].value)){var a=document.createElement("div");a.className="t--subinfo t--err m-t100",a.innerHTML="Please enter a valid zip code",n[0].parentElement.appendChild(a),o=!1}return o}function o(e){for(var t=Boston.childByEl(e,"t--err"),n=0;n<t.length;n++)t[n].remove()}return{start:function(){var t=document.querySelectorAll(".bos-newsletter");if(t.length>0)for(var n=0;n<t.length;n++)e(t[n])}}}();BostonNewsletter.start();var BostonSeal=function(){function e(){n&&clearTimeout(n),n=setTimeout(t,75)}function t(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,t=r?"s--h":"s--u";if(e>o)a[0].classList.add(t),r&&((n=document.createEvent("Event")).initEvent("seal:hidden",!0,!0),document.body.dispatchEvent(n));else if(a[0].classList.remove(t),r){var n=document.createEvent("Event");n.initEvent("seal:down",!0,!0),document.body.dispatchEvent(n)}}var n,o=245,a=document.querySelectorAll(".s"),r=document.querySelectorAll(".node-type-topic-page").length>0;return{start:function(){a.length>0&&a[0]&&(window.addEventListener("scroll",e),e())}}}();BostonSeal.start();var BostonTabs=function(){function e(e){for(var t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=e.target.getAttribute("data-href");t&&(location.hash=t,a.checked=!1)})}function t(){for(var e=document.querySelectorAll(".tab-ctrl"),t=0;t<e.length;t++)e[t].getAttribute("data-hash")==location.hash&&(e[t].checked=!0)}function n(){document.querySelectorAll(".tab-li-close")[0].style.display="none"}var o,a;return{start:function(){(o=document.querySelectorAll(".tab-li-a")).length>0&&(e(o),n(),t(),a=document.getElementById("tabMenuCTRL"))}}}();BostonTabs.start();var BostonVideo=function(){function e(e,t){return"true"==t?"https://www.youtube.com/embed/live_stream?autoplay=1&channel="+e:"https://www.youtube.com/embed/"+e+"?autoplay=1"}function t(t){var n=e(t.el.getAttribute("data-vid-id"),t.el.getAttribute("data-vid-channel"));t.container.innerHTML='<iframe src="'+n+'" class="vid-v"></iframe>'}function n(e){e[e.id]={el:e,container:Boston.child(e,".vid-c")[0],trigger:Boston.child(e,".vid-cta")[0]},e[e.id].el.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),t(e[e.id])})}return{start:function(e){var t=document.querySelectorAll(".vid");if(t.length>0)for(var o=0;o<t.length;o++)n(t[o])}}}();BostonVideo.start();